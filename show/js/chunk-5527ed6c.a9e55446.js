(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5527ed6c"],{"11e9":function(e,t,r){var i=r("52a7"),n=r("4630"),a=r("6821"),s=r("6a99"),o=r("69a8"),l=r("c69a"),d=Object.getOwnPropertyDescriptor;t.f=r("9e1e")?d:function(e,t){if(e=a(e),t=s(t,!0),l)try{return d(e,t)}catch(r){}if(o(e,t))return n(!i.f.call(e,t),e[t])}},"36bd":function(e,t,r){"use strict";var i=r("4bf8"),n=r("77f1"),a=r("9def");e.exports=function(e){var t=i(this),r=a(t.length),s=arguments.length,o=n(s>1?arguments[1]:void 0,r),l=s>2?arguments[2]:void 0,d=void 0===l?r:n(l,r);while(d>o)t[o++]=e;return t}},"5dbc":function(e,t,r){var i=r("d3f4"),n=r("8b97").set;e.exports=function(e,t,r){var a,s=t.constructor;return s!==r&&"function"==typeof s&&(a=s.prototype)!==r.prototype&&i(a)&&n&&n(e,a),e}},"6c7b":function(e,t,r){var i=r("5ca1");i(i.P,"Array",{fill:r("36bd")}),r("9c6c")("fill")},"8b97":function(e,t,r){var i=r("d3f4"),n=r("cb7c"),a=function(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:i(e,r),e}}({},!1):void 0),check:a}},9093:function(e,t,r){var i=r("ce10"),n=r("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},aa77:function(e,t,r){var i=r("5ca1"),n=r("be13"),a=r("79e5"),s=r("fdef"),o="["+s+"]",l="​",d=RegExp("^"+o+o+"*"),h=RegExp(o+o+"*$"),c=function(e,t,r){var n={},o=a((function(){return!!s[e]()||l[e]()!=l})),d=n[e]=o?t(u):s[e];r&&(n[r]=d),i(i.P+i.F*o,"String",n)},u=c.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(d,"")),2&t&&(e=e.replace(h,"")),e};e.exports=c},c5f6:function(e,t,r){"use strict";var i=r("7726"),n=r("69a8"),a=r("2d95"),s=r("5dbc"),o=r("6a99"),l=r("79e5"),d=r("9093").f,h=r("11e9").f,c=r("86cc").f,u=r("aa77").trim,f="Number",p=i[f],m=p,g=p.prototype,v=a(r("2aeb")(g))==f,y="trim"in String.prototype,b=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():u(t,3);var r,i,n,a=t.charCodeAt(0);if(43===a||45===a){if(r=t.charCodeAt(2),88===r||120===r)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+t}for(var s,l=t.slice(2),d=0,h=l.length;d<h;d++)if(s=l.charCodeAt(d),s<48||s>n)return NaN;return parseInt(l,i)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(v?l((function(){g.valueOf.call(r)})):a(r)!=f)?s(new m(b(t)),r,p):b(t)};for(var x,w=r("9e1e")?d(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)n(m,x=w[k])&&!n(p,x)&&c(p,x,h(m,x));p.prototype=g,g.constructor=p,r("2aba")(i,f,p)}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},feda:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"three-content",attrs:{id:"three-dom"}})},n=[],a=(r("c5f6"),r("14b9"),r("6c7b"),r("6b54"),r("7f7f"),r("ac6a"),r("d4ec")),s=r("bee2");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r("5a89"),d=(r("2176"),r("34ad")),h=r("9e5c"),c=r("e642"),u=r("5a15"),f=r("0dc0"),p=r("4086"),m=r("8710");l["UniformsLib"].line={linewidth:{value:1},resolution:{value:new l["Vector2"](1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},l["ShaderLib"]["line"]={uniforms:l["UniformsUtils"].merge([l["UniformsLib"].common,l["UniformsLib"].fog,l["UniformsLib"].line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var g=function(e){l["ShaderMaterial"].call(this,{type:"LineMaterial",uniforms:l["UniformsUtils"].clone(l["ShaderLib"]["line"].uniforms),vertexShader:l["ShaderLib"]["line"].vertexShader,fragmentShader:l["ShaderLib"]["line"].fragmentShader,clipping:!0}),this.dashed=!1,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}}}),this.setValues(e)};g.prototype=Object.create(l["ShaderMaterial"].prototype),g.prototype.constructor=g,g.prototype.isLineMaterial=!0;var v=function(){l["InstancedBufferGeometry"].call(this),this.type="LineSegmentsGeometry";var e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],r=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(r),this.setAttribute("position",new l["Float32BufferAttribute"](e,3)),this.setAttribute("uv",new l["Float32BufferAttribute"](t,2))};v.prototype=Object.assign(Object.create(l["InstancedBufferGeometry"].prototype),{constructor:v,isLineSegmentsGeometry:!0,applyMatrix4:function(e){var t=this.attributes.instanceStart,r=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),r.applyMatrix4(e),t.data.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var r=new l["InstancedInterleavedBuffer"](t,6,1);return this.setAttribute("instanceStart",new l["InterleavedBufferAttribute"](r,3,0)),this.setAttribute("instanceEnd",new l["InterleavedBufferAttribute"](r,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var r=new l["InstancedInterleavedBuffer"](t,6,1);return this.setAttribute("instanceColorStart",new l["InterleavedBufferAttribute"](r,3,0)),this.setAttribute("instanceColorEnd",new l["InterleavedBufferAttribute"](r,3,3)),this},fromWireframeGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromEdgesGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromMesh:function(e){return this.fromWireframeGeometry(new l["WireframeGeometry"](e.geometry)),this},fromLineSegements:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.position.array),this},computeBoundingBox:function(){var e=new l["Box3"];return function(){null===this.boundingBox&&(this.boundingBox=new l["Box3"]);var t=this.attributes.instanceStart,r=this.attributes.instanceEnd;void 0!==t&&void 0!==r&&(this.boundingBox.setFromBufferAttribute(t),e.setFromBufferAttribute(r),this.boundingBox.union(e))}}(),computeBoundingSphere:function(){var e=new l["Vector3"];return function(){null===this.boundingSphere&&(this.boundingSphere=new l["Sphere"]),null===this.boundingBox&&this.computeBoundingBox();var t=this.attributes.instanceStart,r=this.attributes.instanceEnd;if(void 0!==t&&void 0!==r){var i=this.boundingSphere.center;this.boundingBox.getCenter(i);for(var n=0,a=0,s=t.count;a<s;a++)e.fromBufferAttribute(t,a),n=Math.max(n,i.distanceToSquared(e)),e.fromBufferAttribute(r,a),n=Math.max(n,i.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}}(),toJSON:function(){},applyMatrix:function(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}});var y=function(){v.call(this),this.type="LineGeometry"};y.prototype=Object.assign(Object.create(v.prototype),{constructor:y,isLineGeometry:!0,setPositions:function(e){for(var t=e.length-3,r=new Float32Array(2*t),i=0;i<t;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return v.prototype.setPositions.call(this,r),this},setColors:function(e){for(var t=e.length-3,r=new Float32Array(2*t),i=0;i<t;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return v.prototype.setColors.call(this,r),this},fromLine:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.position.array),this},copy:function(){return this}});var b=r("4721"),x={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","\tvec4 texel = texture2D( tDiffuse, vUv );","\tgl_FragColor = opacity * texel;","}"].join("\n")};function w(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}Object.assign(w.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),w.FullScreenQuad=function(){var e=new l["OrthographicCamera"](-1,1,1,-1,0,1),t=new l["PlaneBufferGeometry"](2,2),r=function(e){this._mesh=new l["Mesh"](t,e)};return Object.defineProperty(r.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(r.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),r}();var k=function(e,t){w.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof l["ShaderMaterial"]?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=l["UniformsUtils"].clone(e.uniforms),this.material=new l["ShaderMaterial"]({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new w.FullScreenQuad(this.material)};k.prototype=Object.assign(Object.create(w.prototype),{constructor:k,render:function(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}});var S=function(e,t){w.call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1};S.prototype=Object.assign(Object.create(w.prototype),{constructor:S,render:function(e,t,r){var i,n,a=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0),this.inverse?(i=0,n=1):(i=1,n=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),s.buffers.stencil.setFunc(a.ALWAYS,i,4294967295),s.buffers.stencil.setClear(n),s.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(a.EQUAL,1,4294967295),s.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),s.buffers.stencil.setLocked(!0)}});var M=function(){w.call(this),this.needsSwap=!1};M.prototype=Object.create(w.prototype),Object.assign(M.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}});var C=function(e,t){if(this.renderer=e,void 0===t){var r={minFilter:l["LinearFilter"],magFilter:l["LinearFilter"],format:l["RGBAFormat"],stencilBuffer:!1},i=e.getSize(new l["Vector2"]);this._pixelRatio=e.getPixelRatio(),this._width=i.width,this._height=i.height,t=new l["WebGLRenderTarget"](this._width*this._pixelRatio,this._height*this._pixelRatio,r),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===x&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===k&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new k(x),this.clock=new l["Clock"]};Object.assign(C.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,t){this.passes.splice(t,0,e)},isLastEnabledPass:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0},render:function(e){void 0===e&&(e=this.clock.getDelta());var t,r,i=this.renderer.getRenderTarget(),n=!1,a=this.passes.length;for(r=0;r<a;r++)if(t=this.passes[r],!1!==t.enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),t.needsSwap){if(n){var s=this.renderer.getContext(),o=this.renderer.state.buffers.stencil;o.setFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),o.setFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==S&&(t instanceof S?n=!0:t instanceof M&&(n=!1))}this.renderer.setRenderTarget(i)},reset:function(e){if(void 0===e){var t=this.renderer.getSize(new l["Vector2"]);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this._width=e,this._height=t;var r=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(r,i),this.renderTarget2.setSize(r,i);for(var n=0;n<this.passes.length;n++)this.passes[n].setSize(r,i)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var A=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};Object.assign(A.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),A.FullScreenQuad=function(){var e=new l["OrthographicCamera"](-1,1,1,-1,0,1),t=new l["PlaneBufferGeometry"](2,2),r=function(e){this._mesh=new l["Mesh"](t,e)};return Object.defineProperty(r.prototype,"material",{get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}),Object.assign(r.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(t){t.render(this._mesh,e)}}),r}();var T=function(e,t,r,i,n){w.call(this),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=void 0!==n?n:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1};T.prototype=Object.assign(Object.create(w.prototype),{constructor:T,render:function(e,t,r){var i,n,a,s=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(a=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(i=e.getClearColor().getHex(),n=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(i,n),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=a),e.autoClear=s}});var B=function(e,t,r,i){this.renderScene=t,this.renderCamera=r,this.selectedObjects=void 0!==i?i:[],this.visibleEdgeColor=new l["Color"](1,1,1),this.hiddenEdgeColor=new l["Color"](.1,.04,.02),this.edgeGlow=0,this.usePatternTexture=!1,this.edgeThickness=1,this.edgeStrength=3,this.downSampleRatio=2,this.pulsePeriod=0,w.call(this),this.resolution=void 0!==e?new l["Vector2"](e.x,e.y):new l["Vector2"](256,256);var n={minFilter:l["LinearFilter"],magFilter:l["LinearFilter"],format:l["RGBAFormat"]},a=Math.round(this.resolution.x/this.downSampleRatio),s=Math.round(this.resolution.y/this.downSampleRatio);this.maskBufferMaterial=new l["MeshBasicMaterial"]({color:16777215}),this.maskBufferMaterial.side=l["DoubleSide"],this.renderTargetMaskBuffer=new l["WebGLRenderTarget"](this.resolution.x,this.resolution.y,n),this.renderTargetMaskBuffer.texture.name="OutlinePass.mask",this.renderTargetMaskBuffer.texture.generateMipmaps=!1,this.depthMaterial=new l["MeshDepthMaterial"],this.depthMaterial.side=l["DoubleSide"],this.depthMaterial.depthPacking=l["RGBADepthPacking"],this.depthMaterial.blending=l["NoBlending"],this.prepareMaskMaterial=this.getPrepareMaskMaterial(),this.prepareMaskMaterial.side=l["DoubleSide"],this.prepareMaskMaterial.fragmentShader=c(this.prepareMaskMaterial.fragmentShader,this.renderCamera),this.renderTargetDepthBuffer=new l["WebGLRenderTarget"](this.resolution.x,this.resolution.y,n),this.renderTargetDepthBuffer.texture.name="OutlinePass.depth",this.renderTargetDepthBuffer.texture.generateMipmaps=!1,this.renderTargetMaskDownSampleBuffer=new l["WebGLRenderTarget"](a,s,n),this.renderTargetMaskDownSampleBuffer.texture.name="OutlinePass.depthDownSample",this.renderTargetMaskDownSampleBuffer.texture.generateMipmaps=!1,this.renderTargetBlurBuffer1=new l["WebGLRenderTarget"](a,s,n),this.renderTargetBlurBuffer1.texture.name="OutlinePass.blur1",this.renderTargetBlurBuffer1.texture.generateMipmaps=!1,this.renderTargetBlurBuffer2=new l["WebGLRenderTarget"](Math.round(a/2),Math.round(s/2),n),this.renderTargetBlurBuffer2.texture.name="OutlinePass.blur2",this.renderTargetBlurBuffer2.texture.generateMipmaps=!1,this.edgeDetectionMaterial=this.getEdgeDetectionMaterial(),this.renderTargetEdgeBuffer1=new l["WebGLRenderTarget"](a,s,n),this.renderTargetEdgeBuffer1.texture.name="OutlinePass.edge1",this.renderTargetEdgeBuffer1.texture.generateMipmaps=!1,this.renderTargetEdgeBuffer2=new l["WebGLRenderTarget"](Math.round(a/2),Math.round(s/2),n),this.renderTargetEdgeBuffer2.texture.name="OutlinePass.edge2",this.renderTargetEdgeBuffer2.texture.generateMipmaps=!1;var o=4,d=4;this.separableBlurMaterial1=this.getSeperableBlurMaterial(o),this.separableBlurMaterial1.uniforms["texSize"].value.set(a,s),this.separableBlurMaterial1.uniforms["kernelRadius"].value=1,this.separableBlurMaterial2=this.getSeperableBlurMaterial(d),this.separableBlurMaterial2.uniforms["texSize"].value.set(Math.round(a/2),Math.round(s/2)),this.separableBlurMaterial2.uniforms["kernelRadius"].value=d,this.overlayMaterial=this.getOverlayMaterial(),void 0===x&&console.error("OutlinePass relies on CopyShader");var h=x;function c(e,t){var r=t.isPerspectiveCamera?"perspective":"orthographic";return e.replace(/DEPTH_TO_VIEW_Z/g,r+"DepthToViewZ")}this.copyUniforms=l["UniformsUtils"].clone(h.uniforms),this.copyUniforms["opacity"].value=1,this.materialCopy=new l["ShaderMaterial"]({uniforms:this.copyUniforms,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,blending:l["NoBlending"],depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new l["Color"],this.oldClearAlpha=1,this.fsQuad=new w.FullScreenQuad(null),this.tempPulseColor1=new l["Color"],this.tempPulseColor2=new l["Color"],this.textureMatrix=new l["Matrix4"]};B.prototype=Object.assign(Object.create(w.prototype),{constructor:B,dispose:function(){this.renderTargetMaskBuffer.dispose(),this.renderTargetDepthBuffer.dispose(),this.renderTargetMaskDownSampleBuffer.dispose(),this.renderTargetBlurBuffer1.dispose(),this.renderTargetBlurBuffer2.dispose(),this.renderTargetEdgeBuffer1.dispose(),this.renderTargetEdgeBuffer2.dispose()},setSize:function(e,t){this.renderTargetMaskBuffer.setSize(e,t);var r=Math.round(e/this.downSampleRatio),i=Math.round(t/this.downSampleRatio);this.renderTargetMaskDownSampleBuffer.setSize(r,i),this.renderTargetBlurBuffer1.setSize(r,i),this.renderTargetEdgeBuffer1.setSize(r,i),this.separableBlurMaterial1.uniforms["texSize"].value.set(r,i),r=Math.round(r/2),i=Math.round(i/2),this.renderTargetBlurBuffer2.setSize(r,i),this.renderTargetEdgeBuffer2.setSize(r,i),this.separableBlurMaterial2.uniforms["texSize"].value.set(r,i)},changeVisibilityOfSelectedObjects:function(e){function t(t){t.isMesh&&(e?(t.visible=t.userData.oldVisible,delete t.userData.oldVisible):(t.userData.oldVisible=t.visible,t.visible=e))}for(var r=0;r<this.selectedObjects.length;r++){var i=this.selectedObjects[r];i.traverse(t)}},changeVisibilityOfNonSelectedObjects:function(e){var t=[];function r(e){e.isMesh&&t.push(e)}for(var i=0;i<this.selectedObjects.length;i++){var n=this.selectedObjects[i];n.traverse(r)}function a(r){if(r.isMesh||r.isLine||r.isSprite){for(var i=!1,n=0;n<t.length;n++){var a=t[n].id;if(a===r.id){i=!0;break}}if(!i){var s=r.visible;e&&!r.bVisible||(r.visible=e),r.bVisible=s}}}this.renderScene.traverse(a)},updateTextureMatrix:function(){this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.renderCamera.projectionMatrix),this.textureMatrix.multiply(this.renderCamera.matrixWorldInverse)},render:function(e,t,r,i,n){if(this.selectedObjects.length>0){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var a=e.autoClear;e.autoClear=!1,n&&e.state.buffers.stencil.setTest(!1),e.setClearColor(16777215,1),this.changeVisibilityOfSelectedObjects(!1);var s=this.renderScene.background;if(this.renderScene.background=null,this.renderScene.overrideMaterial=this.depthMaterial,e.setRenderTarget(this.renderTargetDepthBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.changeVisibilityOfSelectedObjects(!0),this.updateTextureMatrix(),this.changeVisibilityOfNonSelectedObjects(!1),this.renderScene.overrideMaterial=this.prepareMaskMaterial,this.prepareMaskMaterial.uniforms["cameraNearFar"].value.set(this.renderCamera.near,this.renderCamera.far),this.prepareMaskMaterial.uniforms["depthTexture"].value=this.renderTargetDepthBuffer.texture,this.prepareMaskMaterial.uniforms["textureMatrix"].value=this.textureMatrix,e.setRenderTarget(this.renderTargetMaskBuffer),e.clear(),e.render(this.renderScene,this.renderCamera),this.renderScene.overrideMaterial=null,this.changeVisibilityOfNonSelectedObjects(!0),this.renderScene.background=s,this.fsQuad.material=this.materialCopy,this.copyUniforms["tDiffuse"].value=this.renderTargetMaskBuffer.texture,e.setRenderTarget(this.renderTargetMaskDownSampleBuffer),e.clear(),this.fsQuad.render(e),this.tempPulseColor1.copy(this.visibleEdgeColor),this.tempPulseColor2.copy(this.hiddenEdgeColor),this.pulsePeriod>0){var o=.625+.75*Math.cos(.01*performance.now()/this.pulsePeriod)/2;this.tempPulseColor1.multiplyScalar(o),this.tempPulseColor2.multiplyScalar(o)}this.fsQuad.material=this.edgeDetectionMaterial,this.edgeDetectionMaterial.uniforms["maskTexture"].value=this.renderTargetMaskDownSampleBuffer.texture,this.edgeDetectionMaterial.uniforms["texSize"].value.set(this.renderTargetMaskDownSampleBuffer.width,this.renderTargetMaskDownSampleBuffer.height),this.edgeDetectionMaterial.uniforms["visibleEdgeColor"].value=this.tempPulseColor1,this.edgeDetectionMaterial.uniforms["hiddenEdgeColor"].value=this.tempPulseColor2,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial1,this.separableBlurMaterial1.uniforms["colorTexture"].value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial1.uniforms["direction"].value=B.BlurDirectionX,this.separableBlurMaterial1.uniforms["kernelRadius"].value=this.edgeThickness,e.setRenderTarget(this.renderTargetBlurBuffer1),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial1.uniforms["colorTexture"].value=this.renderTargetBlurBuffer1.texture,this.separableBlurMaterial1.uniforms["direction"].value=B.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer1),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.separableBlurMaterial2,this.separableBlurMaterial2.uniforms["colorTexture"].value=this.renderTargetEdgeBuffer1.texture,this.separableBlurMaterial2.uniforms["direction"].value=B.BlurDirectionX,e.setRenderTarget(this.renderTargetBlurBuffer2),e.clear(),this.fsQuad.render(e),this.separableBlurMaterial2.uniforms["colorTexture"].value=this.renderTargetBlurBuffer2.texture,this.separableBlurMaterial2.uniforms["direction"].value=B.BlurDirectionY,e.setRenderTarget(this.renderTargetEdgeBuffer2),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.overlayMaterial,this.overlayMaterial.uniforms["maskTexture"].value=this.renderTargetMaskBuffer.texture,this.overlayMaterial.uniforms["edgeTexture1"].value=this.renderTargetEdgeBuffer1.texture,this.overlayMaterial.uniforms["edgeTexture2"].value=this.renderTargetEdgeBuffer2.texture,this.overlayMaterial.uniforms["patternTexture"].value=this.patternTexture,this.overlayMaterial.uniforms["edgeStrength"].value=this.edgeStrength,this.overlayMaterial.uniforms["edgeGlow"].value=this.edgeGlow,this.overlayMaterial.uniforms["usePatternTexture"].value=this.usePatternTexture,n&&e.state.buffers.stencil.setTest(!0),e.setRenderTarget(r),this.fsQuad.render(e),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=a}this.renderToScreen&&(this.fsQuad.material=this.materialCopy,this.copyUniforms["tDiffuse"].value=r.texture,e.setRenderTarget(null),this.fsQuad.render(e))},getPrepareMaskMaterial:function(){return new l["ShaderMaterial"]({uniforms:{depthTexture:{value:null},cameraNearFar:{value:new l["Vector2"](.5,.5)},textureMatrix:{value:null}},vertexShader:["#include <morphtarget_pars_vertex>","#include <skinning_pars_vertex>","varying vec4 projTexCoord;","varying vec4 vPosition;","uniform mat4 textureMatrix;","void main() {","\t#include <skinbase_vertex>","\t#include <begin_vertex>","\t#include <morphtarget_vertex>","\t#include <skinning_vertex>","\t#include <project_vertex>","\tvPosition = mvPosition;","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tprojTexCoord = textureMatrix * worldPosition;","}"].join("\n"),fragmentShader:["#include <packing>","varying vec4 vPosition;","varying vec4 projTexCoord;","uniform sampler2D depthTexture;","uniform vec2 cameraNearFar;","void main() {","\tfloat depth = unpackRGBAToDepth(texture2DProj( depthTexture, projTexCoord ));","\tfloat viewZ = - DEPTH_TO_VIEW_Z( depth, cameraNearFar.x, cameraNearFar.y );","\tfloat depthTest = (-vPosition.z > viewZ) ? 1.0 : 0.0;","\tgl_FragColor = vec4(0.0, depthTest, 1.0, 1.0);","}"].join("\n")})},getEdgeDetectionMaterial:function(){return new l["ShaderMaterial"]({uniforms:{maskTexture:{value:null},texSize:{value:new l["Vector2"](.5,.5)},visibleEdgeColor:{value:new l["Vector3"](1,1,1)},hiddenEdgeColor:{value:new l["Vector3"](1,1,1)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D maskTexture;\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec3 visibleEdgeColor;\t\t\t\tuniform vec3 hiddenEdgeColor;\t\t\t\t\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tvec4 uvOffset = vec4(1.0, 0.0, 0.0, 1.0) * vec4(invSize, invSize);\t\t\t\t\tvec4 c1 = texture2D( maskTexture, vUv + uvOffset.xy);\t\t\t\t\tvec4 c2 = texture2D( maskTexture, vUv - uvOffset.xy);\t\t\t\t\tvec4 c3 = texture2D( maskTexture, vUv + uvOffset.yw);\t\t\t\t\tvec4 c4 = texture2D( maskTexture, vUv - uvOffset.yw);\t\t\t\t\tfloat diff1 = (c1.r - c2.r)*0.5;\t\t\t\t\tfloat diff2 = (c3.r - c4.r)*0.5;\t\t\t\t\tfloat d = length( vec2(diff1, diff2) );\t\t\t\t\tfloat a1 = min(c1.g, c2.g);\t\t\t\t\tfloat a2 = min(c3.g, c4.g);\t\t\t\t\tfloat visibilityFactor = min(a1, a2);\t\t\t\t\tvec3 edgeColor = 1.0 - visibilityFactor > 0.001 ? visibleEdgeColor : hiddenEdgeColor;\t\t\t\t\tgl_FragColor = vec4(edgeColor, 1.0) * vec4(d);\t\t\t\t}"})},getSeperableBlurMaterial:function(e){return new l["ShaderMaterial"]({defines:{MAX_RADIUS:e},uniforms:{colorTexture:{value:null},texSize:{value:new l["Vector2"](.5,.5)},direction:{value:new l["Vector2"](.5,.5)},kernelRadius:{value:1}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\t\t\t\tuniform sampler2D colorTexture;\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\tuniform float kernelRadius;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, kernelRadius);\t\t\t\t\tvec4 diffuseSum = texture2D( colorTexture, vUv) * weightSum;\t\t\t\t\tvec2 delta = direction * invSize * kernelRadius/float(MAX_RADIUS);\t\t\t\t\tvec2 uvOffset = delta;\t\t\t\t\tfor( int i = 1; i <= MAX_RADIUS; i ++ ) {\t\t\t\t\t\tfloat w = gaussianPdf(uvOffset.x, kernelRadius);\t\t\t\t\t\tvec4 sample1 = texture2D( colorTexture, vUv + uvOffset);\t\t\t\t\t\tvec4 sample2 = texture2D( colorTexture, vUv - uvOffset);\t\t\t\t\t\tdiffuseSum += ((sample1 + sample2) * w);\t\t\t\t\t\tweightSum += (2.0 * w);\t\t\t\t\t\tuvOffset += delta;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = diffuseSum/weightSum;\t\t\t\t}"})},getOverlayMaterial:function(){return new l["ShaderMaterial"]({uniforms:{maskTexture:{value:null},edgeTexture1:{value:null},edgeTexture2:{value:null},patternTexture:{value:null},edgeStrength:{value:1},edgeGlow:{value:1},usePatternTexture:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D maskTexture;\t\t\t\tuniform sampler2D edgeTexture1;\t\t\t\tuniform sampler2D edgeTexture2;\t\t\t\tuniform sampler2D patternTexture;\t\t\t\tuniform float edgeStrength;\t\t\t\tuniform float edgeGlow;\t\t\t\tuniform bool usePatternTexture;\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tvec4 edgeValue1 = texture2D(edgeTexture1, vUv);\t\t\t\t\tvec4 edgeValue2 = texture2D(edgeTexture2, vUv);\t\t\t\t\tvec4 maskColor = texture2D(maskTexture, vUv);\t\t\t\t\tvec4 patternColor = texture2D(patternTexture, 6.0 * vUv);\t\t\t\t\tfloat visibilityFactor = 1.0 - maskColor.g > 0.0 ? 1.0 : 0.5;\t\t\t\t\tvec4 edgeValue = edgeValue1 + edgeValue2 * edgeGlow;\t\t\t\t\tvec4 finalColor = edgeStrength * maskColor.r * edgeValue;\t\t\t\t\tif(usePatternTexture)\t\t\t\t\t\tfinalColor += + visibilityFactor * (1.0 - maskColor.r) * (1.0 - patternColor.r);\t\t\t\t\tgl_FragColor = finalColor;\t\t\t\t}",blending:l["AdditiveBlending"],depthTest:!1,depthWrite:!1,transparent:!0})}}),B.BlurDirectionX=new l["Vector2"](1,0),B.BlurDirectionY=new l["Vector2"](0,1);var O=function(){function e(t,r){Object(a["a"])(this,e),o(this,"onProgress",(function(e){if(e.lengthComputable)e.loaded,e.total})),o(this,"onError",(function(e){})),o(this,"commonFunc",{_this:this,hasObj:function(e){return null!=e&&"undefined"!=typeof e},findObject:function(e){var t=null;return this.objects.forEach((function(r,i){if(null!=r.name&&""!=r.name&&r.name==e)return t=r,t})),t},getPath:function(e){return this._this.BASE_PATH+e},guid:function(){return this.guidRandom()+this.guidRandom()+"-"+this.guidRandom()+"-"+this.guidRandom()+"-"+this.guidRandom()+"-"+this.guidRandom()+this.guidRandom()+this.guidRandom()},guidRandom:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}}),this.props=t,this.ThreeData=r,this.dataJson=r,this.objList=r.objects||[],this.eventList=r.events||{},this.btnList=r.btns||[],this.alarmColor=Object.assign({level1:"#00c5ff",level2:"#b0f604",level3:"#fcff00",level4:"#ff8d00",level5:"#ff0000"},r.alarmColor),this.renderer=null,this.scene=null,this.camera=null,this.objects=[],this.equipment=[],this.sprite=[],this.cabinet=[],this.dom=document.getElementById(this.props.domID),this.dbclick=0,this.mouseClick=new l["Vector2"],this.raycaster=new l["Raycaster"],this.lastElement=null,this.tipTimer=null,this.tooltip=null,this.lastEvent=null,this.tooltipBG="#ACDEFE",this.composer=null,this.outlinePass=null,this.progressSuccess=0,this.loadtimer=null,this.BASE_PATH="./images/"}return Object(s["a"])(e,[{key:"init",value:function(){this.initRenderer(),this.initScene(),this.initCamera(),this.initLight(),this.render(),this.setControl(),this.InitData(),this.renderer.domElement.addEventListener("mousedown",this.onDocumentMouseDown.bind(this),!1),this.renderer.domElement.addEventListener("mousemove",this.onDocumentMouseMove.bind(this),!1)}},{key:"initRenderer",value:function(){this.renderer=new l["WebGLRenderer"]({antialias:!0}),this.renderer.setSize(this.dom.offsetWidth,this.dom.offsetHeight),this.dom.appendChild(this.renderer.domElement)}},{key:"initCamera",value:function(){this.camera=new l["PerspectiveCamera"](45,this.dom.offsetWidth/this.dom.offsetHeight,1,1e5),this.camera.name="mainCamera",this.camera.position.set(0,1e3,1800),this.camera.lookAt({x:0,y:0,z:0}),this.scene.add(this.camera)}},{key:"initScene",value:function(){this.scene=new l["Scene"],this.scene.background=new l["Color"](2252691)}},{key:"initLight",value:function(){var e=new l["AmbientLight"](13421772);e.position.set(0,0,0),this.scene.add(e);var t=new l["PointLight"](5592405);t.shadow.camera.near=1,t.shadow.camera.far=5e3,t.position.set(0,350,0),t.castShadow=!0,this.scene.add(t)}},{key:"render",value:function(){this.animate()}},{key:"animate",value:function(){requestAnimationFrame(this.render.bind(this)),this.renderer.render(this.scene,this.camera)}},{key:"setHelper",value:function(){var e=new l["AxisHelper"](5);this.scene.add(e)}},{key:"setControl",value:function(){this.controls=new b["a"](this.camera,this.dom),this.controls.update()}},{key:"InitData",value:function(){this.setOutside()}},{key:"setOutside",value:function(){this.composer=new C(this.renderer);var e=new T(this.scene,this.camera);this.composer.addPass(e),this.outlinePass=new B(new l["Vector2"](window.innerWidth,window.innerHeight),this.scene,this.camera),this.composer.addPass(this.outlinePass),this.outlinePass,visibleEdgeColor.set("#3042fc"),this.outlinePass.edgeStrength=4,this.outlinePass.edgeGlow=0,this.outlinePass.edgeThickness=1.6,this.outlinePass.pulsePeriod=0;var t=new k(FXAAShader);t.uniforms["resolution"].value.set(1/window.innerWidth,1/window.innerHeight),composer.addPass(FXAAShaderPass)}},{key:"autoGeometry",value:function(){var e=new l["Geometry"],t=new l["Vector3"](500,500,500),r=new l["Vector3"](0,500,500),i=new l["Vector3"](0,0,500),n=new l["Vector3"](500,0,500),a=new l["Vector3"](500,500,0),s=new l["Vector3"](0,500,0),o=new l["Vector3"](0,0,0),d=new l["Vector3"](500,0,0);e.vertices.push(t,r,i,n,a,s,o,d);var h=new l["Face3"](0,3,4),c=new l["Face3"](3,7,4),u=new l["Face3"](1,5,2),f=new l["Face3"](5,6,2),p=new l["Face3"](0,4,1),m=new l["Face3"](4,5,1),g=new l["Face3"](2,6,3),v=new l["Face3"](6,7,3),y=new l["Face3"](0,1,3),b=new l["Face3"](1,2,3),x=new l["Face3"](5,4,6),w=new l["Face3"](4,7,6);e.faces.push(h,c,u,f,p,m,g,v,y,b,x,w);for(var k=0;k<e.faces.length;k+=2){var S=16777215*Math.random();e.faces[k].color.setHex(S),e.faces[k+1].color.setHex(S)}for(var M=[],C=0;C<e.faces.length;C++){var A=new l["MeshBasicMaterial"]({vertexColors:l["FaceColors"]});M.push(A)}var T=new l["Mesh"](e,M),B=new l["Object3D"];B.add(T),this.scene.add(B)}},{key:"setEdgesGeometry",value:function(e,t){var r=new l["EdgesGeometry"](e.geometry,1),i=new l["LineSegments"](r,new l["LineBasicMaterial"]({color:t}));return e.add(i),e}},{key:"addShape",value:function(e,t,r){var i=new l["ExtrudeBufferGeometry"](e,t),n=new l["Mesh"](i,new l["MeshPhongMaterial"]({color:r}));return n}},{key:"renderOutside",value:function(e){var t=new C(this.renderer),r=new T(this.scene,this.camera);t.addPass(r);var i=new B(new l["Vector2"](this.dom.offsetWidth,this.dom.offsetHeight),this.scene,this.camera);t.addPass(i),i.pulsePeriod=2,i.visibleEdgeColor.set(16711680),i.hiddenEdgeColor.set(0),i.usePatternTexture=!1,i.edgeStrength=5,i.edgeGlow=1,i.edgeThickness=1,i.selectedObjects=e}},{key:"resetView",value:function(){this.dom.removeChild(this.renderer.domElement);var t=new e(this.props,this.ThreeData);t.init()}},{key:"Loading",value:function(){var e=document.createElement("div");e.setAttribute("id","loading"),e.style.display="block",e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.width="100%",e.style.height="100%",e.style.fontSize="30px",e.style.zIndex="999",e.style.background="rgba(0,0,0,0.65)";var t=document.createElement("div");t.innerHTML="模型加载中...",t.style.top="40%",t.style.position="absolute",t.style.width="100%",t.style.textAlign="center",e.appendChild(t),this.dom.appendChild(e)}},{key:"LoadSuccess",value:function(){var e=this;if(3==this.progressSuccess){var t=this.dom.querySelector("#loading");t.style.display="none",clearTimeout(this.loadtimer)}else this.loadtimer=setTimeout((function(){e.LoadSuccess()}),1e3)}},{key:"InitTooltip",value:function(){this.tooltip=document.createElement("div"),this.tooltip.setAttribute("id","tooltip"),this.tooltip.style.display="none",this.tooltip.style.position="absolute",this.tooltip.style.color="#000",this.tooltip.style.maxWidth="200px",this.tooltip.style.width="32px",this.tooltip.style.height="auto",this.tooltip.style.lineHeight="22px",this.tooltip.style.textAlign="center",this.tooltip.style.padding="10px",this.tooltip.style.background=this.tooltipBG,this.tooltip.style.opacity=.8,this.tooltip.style["border-radius"]="5px";var e=document.createElement("div");e.setAttribute("id","tipdiv");var t=document.createElement("span");t.style.marginLeft="500%",t.style.bottom="-10px",t.style.left="-10px",t.style.position="absolute",t.style.borderTop="10px solid "+this.tooltipBG,t.style.borderLeft="10px solid transparent",t.style.borderRight="10px solid transparent",this.tooltip.appendChild(t),this.tooltip.appendChild(e),this.dom.appendChild(this.tooltip)}},{key:"InitBtn",value:function(){var e=this,t=this.btnList.length,r=24,i=document.createElement("div");i.setAttribute("id","toolbar"),i.style.display="block",i.style.position="absolute",i.style.left="10px",i.style.top="75px",i.style.width="32px",i.style.height=t*r+r+"px",i.style.background="rgba(255,255,255,0.75)",i.style["border-radius"]="5px",this.dom.appendChild(i);for(var n=0;n<t;n++){var a=this.btnList[n],s=a.btnimg,o=document.createElement("img");o.style.position="absolute",o.style.left="4px",o.style.top=r/2+n*r+"px",o.style["pointer-events"]="auto",o.style["cursor"]="pointer",o.setAttribute("src",this.commonFunc.getPath(s)),o.style.width="24px",o.style.height="24px",o.setAttribute("title",a.btnTitle),o.onclick=function(){a.clickFunction(e)},i.appendChild(o)}}},{key:"InitAddObject",value:function(e){if(null==e.show||"undefined"==typeof e.show||e.show){var t=null;switch(e.objType){case"cube":t=this.createCube(e),this.addObject(t,"scene");break;case"wall":this.CreateWall(e);break;case"emptyCabinet":t=this.createEmptyCabinet(e),this.addObject(t,"scene");break;case"objPlant":this.createObjPlant(e);break;case"objAnnihilator":this.createObjAnnihilator(e);break;case"objCamera":this.createObjCamera(e);break}}}},{key:"CreateWall",value:function(e){var t=this,r=e.depth||40,i=e.height||100,n=e.width||300,a=e.style.skinColor||9991439,s=e.style.transparent||!1,o=e.style.opacity||1;e.wallData.forEach((function(e,l){var d=n,h=e.depth||r,c=((e.startDot.x||0)+(e.endDot.x||0))/2,u=((e.startDot.y||0)+(e.endDot.y||0))/2,f=((e.startDot.z||0)+(e.endDot.z||0))/2;e.startDot.z==e.endDot.z?(d=Math.abs(e.startDot.x-e.endDot.x),h=e.depth||r):e.startDot.x==e.endDot.x&&(d=e.depth||r,h=Math.abs(e.startDot.z-e.endDot.z));var p={width:d,height:e.height||i,depth:h,rotation:e.rotation,x:c,y:u,z:f,uuid:e.uuid,name:e.name,style:{skinColor:a,skin:e.skin,transparent:s,opacity:o}},m=t.createCube(p);t.commonFunc.hasObj(e.childrens)&&e.childrens.length>0&&e.childrens.forEach((function(e,r){var i=t.CreateHole(e);m=t.mergeModel(e.op,m,i,a)})),t.addObject(m,"scene")}))}},{key:"mergeModel",value:function(e,t,r,i){var n=new ThreeBSP(t),a=new ThreeBSP(r),s=null;if("-"==e)s=n.subtract(a);else{if("+"==e){new l["Mesh"](r);return r.updateMatrix(),t.geometry.merge(r.geometry,r.matrix),t}if("&"!=e)return this.addObject(r,"scene"),t;s=n.intersect(a)}var o=s.toMesh();o.material.shading=l["FlatShading"],o.geometry.computeFaceNormals(),o.geometry.computeVertexNormals(),o.uuid=t.uuid+e+r.uuid,o.name=t.name+e+r.name,o.material.needsUpdate=!0,o.geometry.buffersNeedUpdate=!0,o.geometry.uvsNeedUpdate=!0,o.material=t.material;for(var d=0;d<o.geometry.faces.length/2;d++){for(var h=!1,c=0;c<t.geometry.faces;c++)o.geometry.faces[d].vertexNormals[0].x===t.geometry.faces[c].vertexNormals[0].x&&o.geometry.faces[d].vertexNormals[0].y===t.geometry.faces[c].vertexNormals[0].y&&o.geometry.faces[d].vertexNormals[0].z===t.geometry.faces[c].vertexNormals[0].z&&o.geometry.faces[d].vertexNormals[1].x===t.geometry.faces[c].vertexNormals[1].x&&o.geometry.faces[d].vertexNormals[1].y===t.geometry.faces[c].vertexNormals[1].y&&o.geometry.faces[d].vertexNormals[1].z===t.geometry.faces[c].vertexNormals[1].z&&o.geometry.faces[d].vertexNormals[2].x===t.geometry.faces[c].vertexNormals[2].x&&o.geometry.faces[d].vertexNormals[2].y===t.geometry.faces[c].vertexNormals[2].y&&o.geometry.faces[d].vertexNormals[2].z===t.geometry.faces[c].vertexNormals[2].z&&(o.geometry.faces[2*d].color.setHex(i),o.geometry.faces[2*d].materialIndex=t.geometry.faces[c].materialIndex,o.geometry.faces[2*d+1].color.setHex(i),o.geometry.faces[2*d+1].materialIndex=t.geometry.faces[c].materialIndex);if(0==h){for(c=0;c<r.geometry.faces.length;c++)o.geometry.faces[d].vertexNormals[0].x===r.geometry.faces[c].vertexNormals[0].x&&o.geometry.faces[d].vertexNormals[0].y===r.geometry.faces[c].vertexNormals[0].y&&o.geometry.faces[d].vertexNormals[0].z===r.geometry.faces[c].vertexNormals[0].z&&o.geometry.faces[d].vertexNormals[1].x===r.geometry.faces[c].vertexNormals[1].x&&o.geometry.faces[d].vertexNormals[1].y===r.geometry.faces[c].vertexNormals[1].y&&o.geometry.faces[d].vertexNormals[1].z===r.geometry.faces[c].vertexNormals[1].z&&o.geometry.faces[d].vertexNormals[2].x===r.geometry.faces[c].vertexNormals[2].x&&o.geometry.faces[d].vertexNormals[2].y===r.geometry.faces[c].vertexNormals[2].y&&o.geometry.faces[d].vertexNormals[2].z===r.geometry.faces[c].vertexNormals[2].z&&(o.geometry.faces[2*d].color.setHex(i),o.geometry.faces[2*d].materialIndex=r.geometry.faces[c].materialIndex,o.geometry.faces[2*d+1].color.setHex(i),o.geometry.faces[2*d+1].materialIndex=r.geometry.faces[c].materialIndex);o.geometry.faces[2*d].color.setHex(i),o.geometry.faces[2*d+1].color.setHex(i)}}return o.castShadow=!0,o.receiveShadow=!0,o}},{key:"CreateHole",value:function(e){var t=40,r=100,i=300,n=9991439,a=i,s=e.depth||t,o=((e.startDot.x||0)+(e.endDot.x||0))/2,l=((e.startDot.y||0)+(e.endDot.y||0))/2,d=((e.startDot.z||0)+(e.endDot.z||0))/2;e.startDot.z==e.endDot.z?(a=Math.abs(e.startDot.x-e.endDot.x),s=e.depth||t):e.startDot.x==e.endDot.x&&(a=e.depth||t,s=Math.abs(e.startDot.z-e.endDot.z));var h={width:a,height:e.height||r,depth:s,rotation:e.rotation,uuid:e.uuid,name:e.name,objType:e.objType,x:o,y:l,z:d,style:{skinColor:e.skinColor||n,skin:e.skin}},c=this.createCube(h);return c}},{key:"createCube",value:function(e){for(var t=e.width||1e3,r=e.height||10,i=e.depth||t,n=e.x||0,a=e.y||0,s=e.z||0,o=e.style.hasOwnProperty("skinColor")?e.style.skinColor:"",d=new l["CubeGeometry"](t,r,i,0,0,1),h=0;h<d.faces.length;h+=2)d.faces[h].color.setHex(o),d.faces[h+1].color.setHex(o);var c={vertexColors:l["FaceColors"]},u=c,f=c,p=c,m=c,g=c;if(null!=e.style&&"undefined"!=typeof e.style&&null!=e.style.skin&&"undefined"!=typeof e.style.skin){null!=e.style.skin.opacity&&"undefined"!=typeof e.style.skin.opacity&&e.style.skin.opacity;var v=e.style.skin.hasOwnProperty("skin_right")&&e.style.skin.skin_right.hasOwnProperty("skinColor")?e.style.skin.skin_right.skinColor:e.style.skin.hasOwnProperty("skinColor")?e.style.skin.skinColor:"",y=e.style.skin.hasOwnProperty("skin_left")&&e.style.skin.skin_left.hasOwnProperty("skinColor")?e.style.skin.skin_left.skinColor:e.style.skin.hasOwnProperty("skinColor")?e.style.skin.skinColor:"",b=e.style.skin.hasOwnProperty("skin_up")&&e.style.skin.skin_up.hasOwnProperty("skinColor")?e.style.skin.skin_up.skinColor:e.style.skin.hasOwnProperty("skinColor")?e.style.skin.skinColor:"",x=e.style.skin.hasOwnProperty("skin_down")&&e.style.skin.skin_down.hasOwnProperty("skinColor")?e.style.skin.skin_down.skinColor:e.style.skin.hasOwnProperty("skinColor")?e.style.skin.skinColor:"",w=e.style.skin.hasOwnProperty("skin_fore")&&e.style.skin.skin_fore.hasOwnProperty("skinColor")?e.style.skin.skin_fore.skinColor:e.style.skin.hasOwnProperty("skinColor")?e.style.skin.skinColor:"",k=e.style.skin.hasOwnProperty("skin_behind")&&e.style.skin.skin_behind.hasOwnProperty("skinColor")?e.style.skin.skin_behind.skinColor:e.style.skin.hasOwnProperty("skinColor")?e.style.skin.skinColor:"";g=this.createSkinOption(i,r,e.style.skin.skin_right,d,v,0),m=this.createSkinOption(i,r,e.style.skin.skin_left,d,y,2),c=this.createSkinOption(t,i,e.style.skin.skin_up,d,b,4),u=this.createSkinOption(t,i,e.style.skin.skin_down,d,x,6),f=this.createSkinOption(t,r,e.style.skin.skin_fore,d,w,8),p=this.createSkinOption(t,r,e.style.skin.skin_behind,d,k,10)}var S=[];S.push(new l["MeshLambertMaterial"](g)),S.push(new l["MeshLambertMaterial"](m)),S.push(new l["MeshLambertMaterial"](c)),S.push(new l["MeshLambertMaterial"](u)),S.push(new l["MeshLambertMaterial"](f)),S.push(new l["MeshLambertMaterial"](p));var M=new l["Mesh"](d,S);return M.castShadow=!0,M.receiveShadow=!0,M.uuid=e.uuid,M.name=e.name,M.position.set(n,a,s),null!=e.rotation&&"undefined"!=typeof e.rotation&&e.rotation.length>0&&e.rotation.forEach((function(e,t){switch(e.direction){case"x":M.rotateX(e.degree);break;case"y":M.rotateY(e.degree);break;case"z":M.rotateZ(e.degree);break;case"arb":M.rotateOnAxis(new l["Vector3"](e.degree[0],e.degree[1],e.degree[2]),e.degree[3]);break}})),M}},{key:"createEmptyCabinet",value:function(e){var t,r=10,i=this,n=e.uuid||this.commonFunc.guid(),a={show:!0,name:"cubedown",uuid:"",objType:"cube",width:e.size.width,height:e.size.thick,depth:e.size.depth,x:0,y:-e.size.height/2+e.size.thick/2,z:0,style:{skinColor:e.style.skinColor,skin:e.style.skin}},s=this.createCube(a),o={show:!0,uuid:"",name:"cubetop",objType:"cube",width:e.size.width,height:e.size.thick,depth:e.size.depth,x:0,y:e.size.height-e.size.thick,z:0,style:{skinColor:e.style.skinColor,skin:e.style.skin}},d=this.createCube(o);t=this.mergeModel("+",s,d);var h={show:!0,uuid:"",name:"cubeleft",objType:"cube",width:e.size.thick,height:e.size.height-2*e.size.thick,depth:e.size.depth,x:-e.size.width/2+e.size.thick/2,y:e.size.height/2-e.size.thick/2,z:0,style:{skinColor:e.style.skinColor,skin:e.style.skin}},c=this.createCube(h);t=this.mergeModel("+",t,c);var u={show:!0,uuid:"",name:"cuberight",objType:"cube",width:e.size.thick,height:e.size.height-2*e.size.thick,depth:e.size.depth,x:e.size.width/2-e.size.thick/2,y:e.size.height/2-e.size.thick/2,z:0,style:{skinColor:e.style.skinColor,skin:e.style.skin}},f=this.createCube(u);t=this.mergeModel("+",t,f);var p={show:!0,uuid:"",name:"",objType:"cube",width:e.size.width,height:e.size.height-2*e.size.thick,depth:e.size.thick,x:0,y:e.size.height/2-e.size.thick/2,z:-e.size.depth/2+e.size.thick/2,style:{skinColor:e.style.skinColor,skin:e.style.skin}},m=this.createCube(p);t=this.mergeModel("+",t,m),this.addObject(t,"object");var g=new l["Object3D"];if(g.add(t),g.name=e.name,g.uuid=n,g.data=e.data||{name:e.name,alarmInfo:[]},g.position.set(e.x||0,(e.y||0)+r,e.z||0),this.addObject(g,"object"),this.cabinet.push(g),null!=e.doors&&"undefined"!=typeof e.doors)if(1==e.doors.skins.length&&1==e.doors.doorname.length){var v={show:!0,uuid:"",name:e.doors.doorname[0],objType:"cube",depth:e.size.thick,width:e.size.width,height:e.size.height-2*e.size.thick,x:0,y:0,z:e.size.depth/2-e.size.thick/2+1,rotation:e.doors.rotation||null,style:{skinColor:e.doors.skins[0].skinColor,skin:e.doors.skins[0]}},y=this.createCube(v);e.doors.rotation&&y.position.set(e.size.width/2,0,e.size.depth/2-e.size.thick/2+1+e.size.width/2),g.add(y),this.addObject(y,"object")}else if(2==e.doors.skins.length&&2==e.doors.doorname.length)for(var b=0;b<e.doors.skins.length;b++){var x=0===b?-e.size.width/4:e.size.width/4;v={show:!0,uuid:"",name:e.doors.doorname[b],objType:"cube",depth:e.size.thick,width:e.size.width/2,height:e.size.height,x:x,y:0,z:e.size.depth/2-e.size.thick/2+1,style:{skinColor:e.doors.skins[b].skinColor,skin:e.doors.skins[b]}},y=this.createCube(v);g.add(y),this.addObject(y,"object")}if(this.commonFunc.hasObj(e.data)){var w=e.size.width||70,k=e.size.height||70,S=document.createElement("canvas");S["width"]=w,S["height"]=k;var M=S.getContext("2d");M.beginPath(),M.rect(0,0,w,k),M.fillStyle="rgba(255, 255, 255, 0)",M.fill();var C=function(e,t,r,i){var n="#ffffff";e.font='12px "Microsoft Yahei" ',e.fillStyle=n,e.textAlign="center",e.textBaseline="middle",e.strokeStyle=n,e.fillText(i,t,r)};C(M,w/2,k/2,e.data.name);var A={width:w,height:k,imgurl:S,y:e.size.height/2+1,transparent:!0,opacity:.8,rotation:[{direction:"x",degree:-.5*Math.PI}]},T=this.createPlaneGeometry(A);g.add(T);var B="data:image/png;base64,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",O=(new l["TextureLoader"]).load(B),z=new l["SpriteMaterial"]({color:this.alarmColor.level1,map:O}),E=new l["Sprite"](z);E.position.set(e.x,e.y+e.size.height/2+22,e.z),E.scale.set(25,25,1),E.data={cabinetUUID:n,level:"1",alarmInfo:[]},E.name="spriteAlarm",E.visible=!1,this.addObject(E),this.sprite.push(E)}if(this.commonFunc.hasObj(e.childrens)&&e.childrens.length>0){var j=[];e.childrens.forEach((function(t,a){var s=t.uuid||i.commonFunc.guid();t.x=e.x,t.z=e.z,t.y=t.y+r+(e.y-(e.size.height-2*e.size.thick)/2),t.rotation=e.rotation||null;var o=i.createCube(t);o.data=t.data,o.data["cabinetUUID"]=n,o.uuid=s,j.push(s),i.addObject(o),i.equipment.push(o)})),g.data["equipmentUUID"]=j}return null!=e.rotation&&"undefined"!=typeof e.rotation&&e.rotation.length>0&&e.rotation.forEach((function(e,t){switch(e.direction){case"x":g.rotateX(e.degree);break;case"y":g.rotateY(e.degree);break;case"z":g.rotateZ(e.degree);break;case"arb":g.rotateOnAxis(new l["Vector3"](e.degree[0],e.degree[1],e.degree[2]),e.degree[3]);break}})),g}},{key:"createCylinderPlant",value:function(e){var t=this,r=e.radiusTop||20,i=e.radiusBottom||20,n=e.height||100,a=e.radiusSegments||8,s=e.heightSegments||1,o=e.openEnded||!1,d=e.x||0,h=e.y||0,c=e.z||0,u=e.style.skinColor||9991439,f=new l["CylinderGeometry"](r,i,n,a,s,o);console.log(f);var p=new l["MeshLambertMaterial"]({color:u,wireframe:!1}),m=new l["Mesh"](f,p);return m.position.set(d,h,c),this.commonFunc.hasObj(e.childrens)&&e.childrens.length>0&&e.childrens.forEach((function(e,r){var i;i="plane"==e.objType?t.createPlaneGeometry(e):t.createCylinderPlant(e),t.addObject(i,"scene")})),m}},{key:"createPlaneGeometry",value:function(e){var t,r=e.transparent;if(!1!==e.transparent&&(r=!0),"string"==typeof e.imgurl){var i=new l["TextureLoader"],n=e.imgurl;-1==e.imgurl.indexOf("data:image/")&&(n=this.commonFunc.getPath(e.imgurl)),t=i.load(n,(function(){}),void 0,(function(){}))}else t=new l["CanvasTexture"](e.imgurl);var a={map:t,side:e.side||l["DoubleSide"],transparent:r,opacity:e.opacity||1};e.blending&&(a.blending=l["AdditiveBlending"]);var s=new l["Mesh"](new l["PlaneGeometry"](e.width,e.height,1,1),new l["MeshBasicMaterial"](a));return s.position.x=e.x||0,s.position.y=e.y||0,s.position.z=e.z||0,null!=e.rotation&&"undefined"!=typeof e.rotation&&e.rotation.length>0&&e.rotation.forEach((function(e,t){switch(e.direction){case"x":s.rotateX(e.degree);break;case"y":s.rotateY(e.degree);break;case"z":s.rotateZ(e.degree);break;case"arb":s.rotateOnAxis(new l["Vector3"](e.degree[0],e.degree[1],e.degree[2]),e.degree[3]);break}})),s}},{key:"createObjPlant",value:function(e){var t=this,r=new p["a"];r.load(t.commonFunc.getPath("plant/plant.mtl"),(function(r){r.preload();var i=new c["a"];i.setMaterials(r),i.load(t.commonFunc.getPath("plant/plant.obj"),(function(r){e.childrens.forEach((function(i){var n=r.clone();n.objHandle||(i.objHandle?n.objHandle=i.objHandle:e.objHandle&&(n.objHandle=e.objHandle)),n=t.handleObj(n),n.position.set(i.x||0,i.y||0,i.z||0),t.scene.add(n)})),t.progressSuccess+=1}),t.onProgress,t.onError)}))}},{key:"createObjAnnihilator",value:function(e){var t=this,r=new p["a"];r.load(t.commonFunc.getPath("annihilator/annihilator.mtl"),(function(r){r.preload();var i=new c["a"];i.setMaterials(r),i.load(t.commonFunc.getPath("annihilator/annihilator.obj"),(function(r){e.childrens.forEach((function(i){var n=r.clone();n.objHandle||(i.objHandle?n.objHandle=i.objHandle:e.objHandle&&(n.objHandle=e.objHandle)),n=t.handleObj(n),n.position.set(i.x||0,i.y||0,i.z||0),t.scene.add(n)})),t.progressSuccess+=1}),t.onProgress,t.onError)}))}},{key:"createObjCamera",value:function(e){var t=this,r=new p["a"];r.load(t.commonFunc.getPath("camera/camera.mtl"),(function(r){r.preload();var i=new c["a"];i.setMaterials(r),i.load(t.commonFunc.getPath("camera/camera.obj"),(function(r){e.childrens.forEach((function(i){var n=r.clone();n.objHandle||(i.objHandle?n.objHandle=i.objHandle:e.objHandle&&(n.objHandle=e.objHandle)),n=t.handleObj(n),n.position.set(i.x||0,i.y||0,i.z||0),t.scene.add(n)})),t.progressSuccess+=1}),t.onProgress,t.onError)}))}},{key:"handleObj",value:function(e){return null!=e.objHandle&&"undefined"!=typeof e.objHandle&&e.objHandle.length>0&&e.objHandle.forEach((function(t){switch(t.direction){case"x":t.ratio&&(e.scale.x=t.ratio),t.degree&&e.rotateX(t.degree);break;case"y":t.ratio&&(e.scale.y=t.ratio),t.degree&&e.rotateY(t.degree);break;case"z":t.ratio&&(e.scale.z=t.ratio),t.degree&&e.rotateZ(t.degree);break;case"arb":t.handleScale&&3==t.handleScale.length&&e.scale.set(t.handleScale[0],t.handleScale[1],t.handleScale[2]),t.handleRotale&&4==t.handleRotale.length&&e.rotateOnAxis(new l["Vector3"](t.handleRotale[0],t.handleRotale[1],t.handleRotale[2]),t.handleRotale[3]);break}})),e}},{key:"changePivot",value:function(e,t,r,i){var n=new l["Object3D"];return n.position.set(e.position.x+t,e.position.y+r,e.position.z+i),e.position.set(-t,-r,-i),n.add(e),n}},{key:"addObject",value:function(e,t){t?("object"==t&&this.objects.push(e),"scene"==t&&this.scene.add(e)):(this.objects.push(e),this.scene.add(e))}},{key:"createSkinOption",value:function(e,t,r,i,n,a){if(this.commonFunc.hasObj(r)){if(this.commonFunc.hasObj(r.imgurl)){var s={color:n,map:this.createSkin(e,t,r),opacity:r.opacity||1};return r.transparent&&(s.transparent=r.transparent),r.blending&&(s.blending=l["AdditiveBlending"]),s}return this.commonFunc.hasObj(r.skinColor)&&(i.faces[a].color.setHex(r.skinColor),i.faces[a+1].color.setHex(r.skinColor)),{vertexColors:l["FaceColors"]}}return{vertexColors:l["FaceColors"]}}},{key:"createSkin",value:function(e,t,r){var i=128,n=128;null!=r.width&&"undefined"!=typeof r.width&&(i=r.width),null!=r.height&&"undefined"!=typeof r.height&&(n=r.height);var a=(new l["TextureLoader"]).load(this.commonFunc.getPath(r.imgurl)),s=!1;return null!=r.repeatx&&"undefined"!=typeof r.repeatx&&1==r.repeatx&&(a.wrapS=l["RepeatWrapping"],s=!0),null!=r.repeaty&&"undefined"!=typeof r.repeaty&&1==r.repeaty&&(a.wrapT=l["RepeatWrapping"],s=!0),s&&a.repeat.set(e/i,t/n),a}},{key:"createText",value:function(e,t){var r=document.createElement("canvas");r["width"]=1024,r["height"]=1024;var i=r.getContext("2d");i.beginPath(),i.rect(0,0,1024,1024),i.fillStyle="rgba(255, 255, 255, 0)",i.fill();var n=function(e,t,r,i,n){var a="#0B2F3A";e.font='30px "Microsoft Yahei" ',e.fillStyle=a,e.textAlign="center",e.textBaseline="middle",e.strokeStyle=a,e.lineWidth=3,e.strokeText(t,i,n),r&&(n+=30,a="#FE642E",e.font='16px "Microsoft Yahei" ',e.fillStyle=a,e.textAlign="center",e.textBaseline="middle",e.fillText(r,i,n))};n(i,"阿里巴巴","ip待分配",500,380),n(i,"腾讯","192.168.1.150",500,495),n(i,"依米康·龙控","192.168.1.100",500,610);var a={width:t,height:e,imgurl:r,y:6,transparent:!0,opacity:.8,rotation:[{direction:"x",degree:-.5*Math.PI},{direction:"z",degree:.5*Math.PI}]},s=this.createPlaneGeometry(a);this.scene.add(s)}},{key:"updateAlarmStatus",value:function(e){for(var t=0;t<this.equipment.length;t++)for(var r=0;r<e.length;r++)if(e[r].devid==this.equipment[t].data.devid&&e[r].pointid==this.equipment[t].data.pointid)for(var i=0;i<this.sprite.length;i++)this.sprite[i].data.cabinetUUID==this.equipment[t].data.cabinetUUID&&this.changeCabinetAlarmObj(e[r],i,t)}},{key:"changeCabinetAlarmObj",value:function(e,t,r){var i=this.sprite[t].data.alarmInfo;if(console.log(e),e.isalarm){Number(this.sprite[t].data.level)<Number(e.level)&&(this.sprite[t].data.level=e.level,this.sprite[t].material.color.set(this.alarmColor["level"+e.level]));for(var n=!0,a=0;a<i.length;a++)i[a].devid==e.devid&&i[a].pointid==e.pointid&&(i.splice(a,1,e),n=!1);if(n&&i.push(e),this.equipment[r].material.length>0)for(var s=0;s<this.equipment[r].material.length;s++)this.equipment[r].material[s].color.set(this.alarmColor["level"+e.level]);this.equipment[r].data.isalarm=!0,this.sprite[t].visible=e.isalarm;var o=e.name+e.alarmInfo;this.alarmPlay(o)}else{if(i.length>0){for(var l=0;l<i.length;l++)i[l].devid==e.devid&&i[l].pointid==e.pointid&&i.splice(l,1);if(i.length>0){for(var d=[],h=0;h<i.length;h++)d.push(i[h].level);var c=Math.max.apply(Math,d);this.sprite[t].data.level=c,this.sprite[t].material.color.set(this.alarmColor["level"+c])}else this.sprite[t].data.level="1",this.sprite[t].visible=!1}if(this.equipment[r].material.length>0)for(var u=0;u<this.equipment[r].material.length;u++)this.equipment[r].material[u].color.set("#ffffff")}}},{key:"alarmPlay",value:function(e){var t=new window.SpeechSynthesisUtterance;t.text=e,t.lang="zh-CN",t.pitch=2,t.rate=1,t.volume=1,window.speechSynthesis.speak(t)}},{key:"onDocumentMouseDown",value:function(e){this.dbclick++;var t=this;if(setTimeout((function(){t.dbclick=0}),500),e.preventDefault(),this.dbclick>=2){this.mouseClick.x=e.offsetX/this.dom.offsetWidth*2-1,this.mouseClick.y=-e.offsetY/this.dom.offsetHeight*2+1,this.raycaster.setFromCamera(this.mouseClick,this.camera);var r=this.raycaster.intersectObjects(this.objects);if(r.length>0){this.controls.enabled=!1;var i=r[0].object;console.log(i),null!=this.eventList&&null!=this.eventList.dbclick&&this.eventList.dbclick.length>0&&this.eventList.dbclick.forEach((function(e,r){"string"==typeof e.obj_name?e.obj_name==i.name&&e.obj_event(i,t):null==e.findObject&&"function"!=typeof e.findObject||e.findObject(i.name)&&e.obj_event(i,t)})),this.controls.enabled=!0}}}},{key:"openCloseDoor",value:function(e,t,r,i,n){console.log(e);var a="close",s=null;if(null!=e.doorState&&"undefined"!=typeof e.doorState)a=e.doorState,s=e.parent;else{console.log("add parent");var o=e.parent;s=new l["Object3D"],s.position.set(e.position.x+t,e.position.y+r,e.position.z+i),e.position.set(-t,-r,-i),s.add(e),o.add(s)}if(e.doorState="close"==a?"open":"close","left"==n||"right"==n){var d="left"==n?1:-1;"close"==e.doorState?s.rotateOnAxis(new l["Vector3"](0,1,0),.5*d*Math.PI):s.rotateOnAxis(new l["Vector3"](0,1,0),-.5*d*Math.PI)}else if("outin"==n){var h=new l["Vector3"](1,0,0);"close"==e.doorState?s.translateOnAxis(h,20-e.geometry.parameters.depth):s.translateOnAxis(h,e.geometry.parameters.depth-20)}}},{key:"openLeftDoor",value:function(e,t){this.openCloseDoor(e,-e.geometry.parameters.width/2,0,0,"left")}},{key:"openRightDoor",value:function(e,t){this.openCloseDoor(e,e.geometry.parameters.width/2,0,0,"right")}},{key:"openCabinetDoor",value:function(e,t){this.openCloseDoor(e,e.geometry.parameters.width/2,0,e.geometry.parameters.depth/2,"right")}},{key:"openEquipmentDoor",value:function(e,t){this.openCloseDoor(e,0,0,e.geometry.parameters.depth/2,"outin")}},{key:"onDocumentMouseMove",value:function(e){var t=this,r=null;this.mouseClick.x=e.offsetX/this.dom.offsetWidth*2-1,this.mouseClick.y=-e.offsetY/this.dom.offsetHeight*2+1,this.raycaster.setFromCamera(this.mouseClick,this.camera);var i=this.raycaster.intersectObjects(this.objects);if(i.length>0){var n=i[0].object;console.log(n),-1==n.name.toString().indexOf("equipment")&&-1==n.name.toString().indexOf("spriteAlarm")||(r=n)}this.lastElement!=r&&(clearTimeout(this.tipTimer),r&&(this.tipTimer=setTimeout((function(){console.log(r);var e="";if(-1!=r.name.toString().indexOf("equipment")&&(e=r.data.tipInfo,t.tooltip.style.background=t.tooltipBG,t.tooltip.querySelector("span").style.borderTop="10px solid "+t.tooltipBG),-1!=r.name.toString().indexOf("spriteAlarm")&&(console.log(r),r.data.alarmInfo.length>0)){for(var i=[],n=0;n<r.data.alarmInfo.length;n++)i.push(r.data.alarmInfo[n].level),e+=r.data.alarmInfo[n].name+r.data.alarmInfo[n].alarmInfo+"；";var a=Math.max.apply(Math,i);t.tooltip.style.background=t.alarmColor["level"+a],t.tooltip.querySelector("span").style.borderTop="10px solid "+t.alarmColor["level"+a]}var s=e.length;t.tooltip.querySelector("#tipdiv").innerHTML=e,t.tooltip.style.width=15*s+"px",t.tooltip.style.display="block",t.tooltip.style.left=t.lastEvent.pageX-t.tooltip.clientWidth/2+"px",t.tooltip.style.top=t.lastEvent.pageY-t.tooltip.clientHeight-15+"px"}),1e3))),this.lastElement=r,null==r&&t.tooltip&&(t.tooltip.style.display="none"),this.lastEvent=e}},{key:"add",value:function(){}},{key:"createObjContainMtl",value:function(){var e=(new l["TextureLoader"]).load("./images/plant/Archmodels66_leaf_33.jpg"),t=(new l["TextureLoader"]).load("./images/plant/Archmodels66_dirt_1.jpg"),r=(new l["TextureLoader"]).load("./images/plant/Archmodels66_bark_1.jpg"),i=(new l["TextureLoader"]).load("./images/plant/Archmodels66_jardiniere.jpg"),n=new c["a"];n.load("./images/plant/plant.obj",(function(n){n.traverse((function(n){n instanceof l["Mesh"]&&(n.material=new l["MeshBasicMaterial"]({color:16777215}),"3DXY_geometry_769"==n.name||"3DXY_geometry_773"==n.name?(n.material.name="wire_153228214",n.material.map=e):"3DXY_geometry_772"==n.name||"3DXY_geometry_776"==n.name||"3DXY_geometry_777"==n.name||"3DXY_geometry_778"==n.name?(n.material.name="wire_108008136",n.material.map=r):"3DXY_geometry_774"==n.name||"3DXY_geometry_775"==n.name?(n.material.name="wire_177148027",n.material.map=t):"3DXY_geometry_770"==n.name&&(n.material.name="wire_198225087",n.material.map=i))}));var a=new f["a"],s=a.parse(n),o=document.createElement("a");o.style.display="none",document.body.appendChild(o),o.href=URL.createObjectURL(new Blob([s],{type:"text/plain"})),o.download="object.obj",o.click()}),this.onProgress,this.onError)}},{key:"exportGLTF",value:function(){var e=new l["BoxGeometry"](40,5,40),t=new l["MeshPhongMaterial"]({color:255}),r=new l["Mesh"](e,t),i=new h["a"];i.parse(r,(function(e){console.log(e);var t=JSON.stringify(e,null,2),r=document.createElement("a");r.style.display="none",document.body.appendChild(r),r.href=URL.createObjectURL(new Blob([t],{type:"text/plain"})),r.download="object.gltf",r.click()}));var n=this,a=new d["a"];a.load("./images/test/object.gltf",(function(e){console.log("控制台查看加载gltf文件返回的对象结构",e),console.log("gltf对象场景属性",e.scene),console.log("gltf对象相机属性",e.cameras),n.scene.add(e.scene)}))}},{key:"exportOBJ",value:function(){var e=new l["BoxGeometry"](40,5,40),t=new l["MeshPhongMaterial"]({color:255}),r=new l["Mesh"](e,t),i=new f["a"],n=i.parse(r),a=document.createElement("a");a.style.display="none",document.body.appendChild(a),a.href=URL.createObjectURL(new Blob([n],{type:"text/plain"})),a.download="object.obj",a.click();var s=this,o=new c["a"];new u["a"];o.load("./images/test/object.obj",(function(e){console.log(e),s.scene.add(e)}))}},{key:"createFBX",value:function(e){var t=this,r=new m["a"];r.load(t.commonFunc.getPath("rack/2-5-E-max.fbx"),(function(e){console.log(e),t.scene.add(e)}))}}]),e}(),z={objects:[{show:!0,uuid:"",name:"floor",objType:"cube",width:2e3,depth:1200,height:100,style:{skinColor:68929}}],events:{dbclick:[],mouseDown:{},mouseUp:{},mouseMove:{}},btns:[]},E={name:"index",created:function(){},mounted:function(){var e={domID:"three-dom"};this.map=new O(e,z),this.map.init()},data:function(){return{map:null}},methods:{},components:{}},j=E,D=r("2877"),P=Object(D["a"])(j,i,n,!1,null,"47ab466a",null);t["default"]=P.exports}}]);